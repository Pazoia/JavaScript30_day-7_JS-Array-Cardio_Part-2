<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Array Cardio üí™üí™</title>
</head>
<body>
    <style>
        .exercises {
            font-size: 25px;
        }

        .answers {
            font-size: 20px;
            color: blue;
        }
    </style>
    <p><em>Psst: have a look at the JavaScript Console</em> üíÅ</p>

    <script>
        // ## Array Cardio - Day 2

        const people = [
            { name: 'Wes', year: 1988 },
            { name: 'Kait', year: 1986 },
            { name: 'Irv', year: 1970 },
            { name: 'Lux', year: 2015 }
        ];

        const comments = [
            { text: 'Love this!', id: 523423 },
            { text: 'Super good', id: 823423 },
            { text: 'You are the best', id: 2039842 },
            { text: 'Ramen is my fav food ever', id: 123523 },
            { text: 'Nice Nice Nice!', id: 542328 }
        ];
    </script>

    <h1>
        Original Data: People <br>
        <script type="text/javascript">
            var table = document.createElement("table");
            for (var i = 0; i < people.length; i++) {
                var row = table.insertRow(-1);
                var nameCell = row.insertCell(-1);
                nameCell.appendChild(document.createTextNode(people[i].name));
                var yearCell = row.insertCell(-1);
                yearCell.appendChild(document.createTextNode(people[i].year));
            }
            document.body.appendChild(table);
        </script>
    </h1>
    <h1>
        Original Data: Comments <br>
        <script type="text/javascript">
            var table = document.createElement("table");
            for (var i = 0; i < comments.length; i++) {
                var row = table.insertRow(-1);
                var idCell = row.insertCell(-1);
                idCell.appendChild(document.createTextNode(comments[i].id));
                var textCell = row.insertCell(-1);
                textCell.appendChild(document.createTextNode(comments[i].text));
            }
            document.body.appendChild(table);
        </script>
    </h1>

    <script>
        // Exercise 1
        // Array.prototype.some()
        // is at least one person 19 or older?
        
        // const isAdult = people.some(function(person) {
        //     const currentYear = (new Date()).getFullYear();
        //     if (currentYear - person.year >= 19) {
        //         return true;
        //     }
        // });
        
        const isAdult = people.some(person => {
            const currentYear = (new Date()).getFullYear();
            return currentYear - person.year >= 19;
        });

        console.log({isAdult});

    </script>        
    <h1 class="exercises">
        1 - If at least one person is 19 or older return 'true' else return 'false' using .some method. <br>
        <div class="answers">
            <li>
                <script type="text/javascript">
                    document.write(isAdult);
                </script>
            </li>
        </div>
    </h1>
    
    <script>
        // Exercise 2
        // Array.prototype.every()
        // is everyone 19 or older?
        const allAdults = people.every(person => {
            const currentYear = (new Date()).getFullYear();
            return currentYear - person.year >= 19;
        });

        console.log({allAdults});


    </script>
    <h1 class="exercises">
        2 - If every person is 19 or older return 'true' else return 'false' using .every method. <br>
        <div class="answers">
            <li>
                <script type="text/javascript">
                    document.write(allAdults);
                </script>
            </li>
        </div>
    </h1>
    
    <script>
        // Exercise 3
        // Array.prototype.find()
        // Find is like filter, but instead returns just the one you are looking for
        // find the comment with the ID of 823423

        // const comment = comments.find(function(comment) {
        //     if (comment.id === 823423) {
        //         return true;
        //     }
        // });

        const comment = comments.find(comment => comment.id === 823423);

        console.log(comment);

    </script>
    <h1 class="exercises">
        3 - Find the comment with the ID of 823423 using .find method. <br>
        <div class="answers">
            <li>
                <script type="text/javascript">
                    document.write(comment.text);
                </script>
            </li>
        </div>
    </h1>

    <script>
        // Exercise 4
        // Array.prototype.findIndex()
        // Find the comment with this ID
        const index = comments.findIndex(comment => comment.id === 823423);
        commentByIndex = comments[index]
        console.log(commentByIndex)

    </script>
    <h1 class="exercises">
        4 - Find the comment with the ID of 823423 using .findIndex method. <br>
        <div class="answers">
            <li>
                <script type="text/javascript">
                    document.write(commentByIndex.text);
                </script>
            </li>
        </div>
    </h1>

    <script>
        // Exercise 5
        // Array.prototype.findIndex()
        // delete the comment with the ID of 823423
        const newIndex = comments.findIndex(comment => comment.id === 823423);
        comments.splice(newIndex, 1);

        console.table(comments);

    </script>
    <h1 class="exercises">
        5 - Delete the comment with the ID of 823423 using .findIndex method. <br>
            <script type="text/javascript">
                var table = document.createElement("table");
                for (var i = 0; i < comments.length; i++) {
                    var row = table.insertRow(-1);
                    var idCell = row.insertCell(-1);
                    idCell.appendChild(document.createTextNode(comments[i].id));
                    var textCell = row.insertCell(-1);
                    textCell.appendChild(document.createTextNode(comments[i].text));
                }
                document.body.appendChild(table);
            </script>
    </h1>   

</body>
</html>